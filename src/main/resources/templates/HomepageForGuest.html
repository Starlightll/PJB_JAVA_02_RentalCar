<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
>
<head>
    <title>Homepage for guest</title>
    <style>
        .carousel-car .img img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
        }

        .rounded-avatar {
            width: 150%;
            aspect-ratio: 1 / 1;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ddd;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
        }

        .ellipsis-text {
            display: -webkit-box;
            -webkit-line-clamp: 6;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            height: 178px;
        }
    </style>

</head>

<body>
<th:block layout:fragment="content">
    <body>

    <div class="hero-wrap ftco-degree-bg" style="background-image: url('/images/bg_1.jpg');" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text justify-content-start align-items-center justify-content-center">
                <div class="col-lg-8 ftco-animate">
                    <div class="text w-100 text-center mb-md-5 pb-md-5">
                        <h1 class="mb-4">Fast &amp; Easy Way To Rent A Car</h1>
                        <p style="font-size: 18px;">A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts</p>
                        <a href="https://vimeo.com/45830194" class="icon-wrap popup-vimeo d-flex align-items-center mt-4 justify-content-center">
                            <div class="icon d-flex align-items-center justify-content-center">
                                <span class="ion-ios-play"></span>
                            </div>
                            <div class="heading-title ml-5">
                                <span>Easy steps for renting a car</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!--    feature vehicle-->
    <section class="ftco-section ftco-no-pt bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12 heading-section text-center ftco-animate mb-5">
                    <span class="subheading">What we offer</span>
                    <h2 class="mb-2">Featured Vehicles</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="carousel-car owl-carousel">
                        <div th:each="car : ${topCars}">
                            <div class="item">
                                <div class="car-wrap rounded ftco-animate">
                                    <div class="img rounded d-flex align-items-end">
                                        <img th:src="'/'+${car.front}" alt="Car Image">
                                    </div>
                                    <div class="text">
                                        <h2 class="mb-0"><a href="#" th:text="${car.name}">Mercedes Grand Sedan</a></h2>
                                        <div class="d-flex mb-3">
                                            <span class="cat" th:text="${car.model}">Chevrolet</span>
                                            <p class="price ml-auto" th:text="${car.basePrice} + '/day'">$500 /day</p>
                                        </div>
                                        <p class="d-flex mb-0 d-block">
                                            <a class="btn btn-primary py-2 mr-1"
                                               th:href="@{'/customer/booking-car?CarId='+ ${car.getCarId()} + '&startDate='  + '&enDate='  + '&address=' + '&beforeNavigate=detailCar'}">Rent
                                                now</a>
                                            <a class="btn btn-secondary py-2 ml-1"
                                               th:href="@{/carDetail/{carId}(carId=${car.carId})}">Details</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="ftco-section">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-7 text-center heading-section ftco-animate">
                    <span class="subheading">Services</span>
                    <h2 class="mb-3">Our Latest Services</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="services services-2 w-100 text-center">
                        <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-wedding-car"></span></div>
                        <div class="text w-100">
                            <h3 class="heading mb-2">Wedding Ceremony</h3>
                            <p>A small river named Duden flows by their place and supplies it with the necessary regelialia.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="services services-2 w-100 text-center">
                        <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-transportation"></span></div>
                        <div class="text w-100">
                            <h3 class="heading mb-2">City Transfer</h3>
                            <p>A small river named Duden flows by their place and supplies it with the necessary regelialia.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="services services-2 w-100 text-center">
                        <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-car"></span></div>
                        <div class="text w-100">
                            <h3 class="heading mb-2">Airport Transfer</h3>
                            <p>A small river named Duden flows by their place and supplies it with the necessary regelialia.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="services services-2 w-100 text-center">
                        <div class="icon d-flex align-items-center justify-content-center"><span class="flaticon-transportation"></span></div>
                        <div class="text w-100">
                            <h3 class="heading mb-2">Whole City Tour</h3>
                            <p>A small river named Duden flows by their place and supplies it with the necessary regelialia.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--feedback-->
    <section class="ftco-section testimony-section bg-light">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-7 text-center heading-section ftco-animate">
                    <span class="subheading">Testimonial</span>
                    <h2 class="mb-3">Happy Clients</h2>
                </div>
            </div>
            <div class="row ftco-animate">
                <div class="col-md-12">
                    <div class="carousel-testimony owl-carousel ftco-owl">
                        <div th:each="feedback : ${topFeedbacks}">
                            <div class="item">
                                <div class="testimony-wrap rounded text-center py-4 pb-5" style="height: 450px;">
                                    <div class="user-img mb-2">
                                        <img th:src="'/' + ${feedback.avatar}" alt="User Avatar" class="rounded-avatar">
                                    </div>

                                    <div class="text pt-4">
                                        <p class="mb-4 ellipsis-text" th:text="${feedback.getContent()}">
                                            Far far away, behind the word mountains, far from the countries Vokalia and
                                            Consonantia, there live the blind texts.
                                        </p>


                                        <p class="name" th:text="${feedback.username}">John Doe</p>
                                        <span class="position">Customer!!!</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Location-->
    <section class="ftco-section">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-7 text-center heading-section ftco-animate">
                    <span class="subheading">Location</span>
                    <h2 class="mb-3">Where you want to go?</h2>
                </div>
            </div>
            <div class="row">
                <!-- HA NOI -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="#" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/hanoi.jpg');" id="hanoi">
                            <div class="overlay">
                                <div class="text-location">HA NOI</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- HO CHI MINH -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="#" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/hochiminhcity.jpg');" id="hochiminh">
                            <div class="overlay">
                                <div class="text-location">HO CHI MINH</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- NHA TRANG -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="#" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/nhatrang.jpg');" id="nhatrang">
                            <div class="overlay">
                                <div class="text-location">NHA TRANG</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- QUANG NINH -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="#" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/quangninh.jpg');" id="quangninh">
                            <div class="overlay">
                                <div class="text-location">QUANG NINH</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- DA NANG -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="#" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/danang.jpg');" id="danang">
                            <div class="overlay">
                                <div class="text-location">DA NANG</div>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- DA LAT -->
                <div class="col-md-4">
                    <div class="car-wrap rounded ftco-animate">
                        <a href="" class="img rounded d-flex align-items-end"
                           style="background-image: url('/images/dalat.jpg');" id="dalat">
                            <div class="overlay">
                                <div class="text-location">DA LAT</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


    </body>
    <script>
        //search with locaiton
        // Get tomorrow's date
        function getTomorrowDate() {
            let today = new Date();
            let tomorrow = new Date(today);
            tomorrow.setDate(today.getDate() + 1); // Add one day to today
            let day = tomorrow.getDate().toString().padStart(2, '0');
            let month = (tomorrow.getMonth() + 1).toString().padStart(2, '0');
            let year = tomorrow.getFullYear();
            return `${year}-${month}-${day}`;
        }

        // URL-encode the time string
        function encodeTime(time) {
            return encodeURIComponent(time);
        }

        // Set the URLs dynamically
        document.addEventListener("DOMContentLoaded", function () {
            const tomorrowDate = getTomorrowDate();
            const pickTime = encodeTime("00:00");
            const dropTime = encodeTime("12:00");

            document.getElementById("hanoi").href = `http://localhost:8080/searchCar?name=Hà+Nội&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
            document.getElementById("hochiminh").href = `http://localhost:8080/searchCar?name=Hồ+Chí+Minh&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
            document.getElementById("nhatrang").href = `http://localhost:8080/searchCar?name=Nha+Trang&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
            document.getElementById("quangninh").href = `http://localhost:8080/searchCar?name=Quảng+Ninh&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
            document.getElementById("danang").href = `http://localhost:8080/searchCar?name=Đà+Nẵng&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
            document.getElementById("dalat").href = `http://localhost:8080/searchCar?name=Lâm+Đồng&pickDate=${tomorrowDate}&pickTime=${pickTime}&dropDate=${tomorrowDate}&dropTime=${dropTime}`;
        });
    </script>
</th:block>
</body>
</html>
