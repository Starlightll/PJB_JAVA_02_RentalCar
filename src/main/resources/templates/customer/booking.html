<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
>
<head>
    <title>Book Car</title>
    <meta name="_csrf" th:content="${_csrf.token}">
    <link rel="stylesheet" href="/css/customer/book-car.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker3.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        .validate-msg {
            display: none;
            color: #dc3545;
            font-size: 80%;
            margin-top: 0.25rem;
        }

        ::placeholder {
            color: #a9adb3 !important;
        }

        .btn-danger{
            color: #fff !important;
            background-color: #dc3545;
            border-color: #dc3545;
        }
        .btn-danger:hover{
            color: #fff;
            background-color: #c82333 !important;
            border-color: #bd2130;
        }

        .btn-warning{
            color: #fff !important;
            background-color: #ffc107;
            border-color: #ffc107;
        }

        .btn-warning:hover{
            color: #fff;
            background-color: #e0a800 !important;
            border-color: #d39e00;
        }

        .table{
            min-width: 100% !important;
        }

        .table tbody tr td{
            padding: 0 !important;
        }

        .button:focus{
            outline: 0 solid !important;
        }
    </style>
</head>
<th:block layout:fragment="content">
    <body>
    <!-- Modal -->
    <div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalTitle">No Title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="ModalBody">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal" id="close">Close</button>
                    <button type="button" class="btn btn-primary" id="confirm">Yes</button>
                    <button type="button" class="btn btn-danger" id="notConfirm">No</button>
                </div>
            </div>
        </div>
    </div>
    <section class="hero-wrap hero-wrap js-fullheight" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-start">
                <div class="col-md-9 ftco-animate">
                    <p class="breadcrumbs">
                        <span class="mr-2"><a href="/">Home <i class="ion-ios-arrow-forward"></i></a></span>
                        <span class="mr-2"><a href="/my-cars">MY CARS <i class="ion-ios-arrow-forward"></i></a></span>
                        <span>ADD CAR <i class="ion-ios-arrow-forward"></i></span>
                    </p>
                    <h1 class="mb-3 bread">Booking Car</h1>
                </div>
            </div>
        </div>
    </section>
    <section class="ftco-section pt-0">
        <div class="container-fluid" id="grad1">
            <div class="row justify-content-center mt-0">
                <div class="booking-detail col-12 mt-5 d-flex justify-content-center">
                    <div class="card text-white bg-primary mb-3" id="bookingDetail" style="border: 2px solid #e3e3e3; max-width: 700px">
                        <div class="card-header">
                            Booking Details
                        </div>
                        <div class="card-body">
                            <ul class="pl-2" style="font-size: 15px;color: #01d28e;font-weight: bold;">
                                <li class="card-text">Pickup location: <span style="color: white; font-weight: normal;">Trung Kinh, Cau Giay, Hanoi</span></li>
                                <li class="card-text">Pickup date and time: <span style="color: white; font-weight: normal;">13/02/2024 - 12:00 PM</span></li>
                                <li class="card-text">Return date and time: <span style="color: white; font-weight: normal;">23/02/2024 - 14:00 PM</span></li>
                            </ul>
                            <button href="#" class="btn btn-primary" onclick="changeDetail()">Change details</button>
                        </div>
                    </div>
                </div>
                <div class="col-11 col-sm-10 col-md-10 col-lg-11 text-center p-0 mt-3 mb-2 mt-lg-5">

                    <div class="card px-0 pt-4 pb-0 mb-3">
                        <div class="row">
                            <div class="col-md-12 mx-0">
                                <form id="msform">
                                    <input id="currentStep" hidden>
                                    <!-- progressbar -->
                                    <ul id="progressbar" class="d-flex justify-content-center">
                                        <li class="active" id="basic"><strong>Step1. Booking Information</strong></li>
                                        <li id="pricing"><strong>Step2. Payment</strong></li>
                                        <li id="finish"><strong>Step3. Finish</strong></li>
                                    </ul>
                                    <!-- fieldsets -->
                                    <div class="row" id="previewSection">
                                        <div class="col-12 col-sm-12 col-md-6 col-lg-6 p-3">
                                            <th:block th:if="${car != null}" th:object="${car}">
                                            </th:block>
                                            <th:block th:if="${car == null}">
                                                <div class="col-lg-12 row p-0 m-auto">
                                                    <div class="col-12 d-flex align-items-center">
                                                        <div class="wrapper" style="max-height: 270px">
                                                            <input type="radio" name="slide-1" id="one-1" checked>
                                                            <input type="radio" name="slide-1" id="two-1">
                                                            <input type="radio" name="slide-1" id="three-1">
                                                            <input type="radio" name="slide-1" id="four-1">
                                                            <div class="img img-1">
                                                                <img src="/images/car-3.jpg"
                                                                     style="background: #1a1a1a" alt="">
                                                            </div>
                                                            <div class="img img-2">
                                                                <img src="/images/car-3.jpg"
                                                                     style="background: #1a1a1a" alt="">
                                                            </div>
                                                            <div class="img img-3">
                                                                <img src="/images/car-3.jpg"
                                                                     style="background: #1a1a1a" alt="">
                                                            </div>
                                                            <div class="img img-4">
                                                                <img src="/images/car-3.jpg"
                                                                     style="background: #1a1a1a" alt="">
                                                            </div>
                                                            <div class="sliders">
                                                                <label for="one-1" id="label-one-1" class="one"></label>
                                                                <label for="two-1" id="label-two-1" class="two"></label>
                                                                <label for="three-1" id="label-three-1"
                                                                       class="three"></label>
                                                                <label for="four-1" id="label-four-1" class="four"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 justify-content-center align-items-center">
                                                        <div class="row justify-content-center align-items-center align-content-center" style="text-align: start">
                                                            <h1 class="col-lg-12 col-md-12 col-sm-12 text-center"
                                                                style="font-size: 1.5rem">NO CAR
                                                            </h1>
                                                            <div class="col-lg-12 row"
                                                                 style="display: flex; align-items: center">
                                                                <p class="col-lg-3 col-md-5 col-sm-5 col-4 p-0 pr-2 m-0">
                                                                    Ratings: </p>
                                                                <div class="rating">
                                                                    <div class="star"
                                                                         th:style="'width:' + ${T(java.lang.Math).random() * 100} +'%'">
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                    </div>
                                                                    <div class="star-base">
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                        <i class="fa fa-star"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-12 row"
                                                                 style="display: flex; align-items: center">
                                                                <p class="col-lg-3 col-md-5 col-sm-5 col-4 p-0 pr-2 m-0">
                                                                    No. of rides: </p>
                                                                <p class="m-0">0</p>
                                                            </div>
                                                            <div class="col-lg-12 row"
                                                                 style="display: flex; align-items: center">
                                                                <p class="col-lg-3 col-md-5 col-sm-5 col-4 p-0 pr-2 m-0">
                                                                    Price: </p>
                                                                <p class="m-0">0k/Day</p>
                                                            </div>
                                                            <div class="col-lg-12 row"
                                                                 style="display: flex; align-items: center">
                                                                <p class="col-lg-3 col-md-5 col-sm-5 col-4 p-0 pr-2 m-0">
                                                                    Location: </p>
                                                                <p class="col-lg-9 col-md-7 col-sm-7 col-8 p-0 m-0"
                                                                   style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;   '...' ">No</p>
                                                            </div>
                                                            <div class="col-lg-12 mb-3">
                                                                <div class="input-group input-group-sm">
                                                                    <p class="m-0">No Status</p>
                                                                </div>
                                                                <a class="validate-msg">Invalid</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </th:block>
                                        </div>
                                        <div class="col-12 col-sm-12 col-md-6 col-lg-6 p-3">
                                            <!--                                                        <h5 class="card-title">Booking Summary</h5>-->
                                            <!--                                                        <div class="d-flex flex-column align-items-end">-->
                                            <!--                                                            <p>Number of days: <span>15</span></p>-->
                                            <!--                                                            <p>Price per day: <span>900,000 VND</span></p>-->
                                            <!--                                                            <p style="width: 80%; height: 2px; background: #00c86f"></p>-->
                                            <!--                                                            <p>Total: <span>13,500,000 VND</span></p>-->
                                            <!--                                                            <p>Deposit: <span>15,000,000 VND</span></p>-->
                                            <!--                                                        </div>-->
                                            <table class="table table-dark table-hover">
                                                <thead>
                                                <tr>
                                                    <th scope="col" colspan="3">Booking Summary</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <th scope="row">1</th>
                                                    <td>Number of days</td>
                                                    <td>15</td>
                                                </tr>
                                                <tr>
                                                    <th scope="row">2</th>
                                                    <td>Price per day</td>
                                                    <td>900,000 VND</td>
                                                </tr>
                                                <tr>
                                                    <th scope="row">3</th>
                                                    <td>Deposit</td>
                                                    <td>1,500,000 VND</td>
                                                </tr>
                                                <tr>
                                                    <th scope="row">4</th>
                                                    <td>Total</td>
                                                    <td style="color: #00ff86">15,000,000 VND</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <fieldset>
                                        <div class="d-flex justify-content-center">
                                            <div class="card align-items-start display-flex-center" style="">
                                                <div class="card-body text-left w-100 row align-self-center p-0">
                                                    <div class="col-12 p-3">
                                                        <div>
                                                            <h5 class="card-title">Renter Information</h5>
                                                            <div class="row">
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                        <span class="input-group-text ">Full name</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="fullName1">
                                                                    </div>
                                                                    <a class="validate-msg" id="fullNameValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">Date of birth</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="book_pick_date1">
                                                                    </div>
                                                                    <a class="validate-msg" id="dateOfBirthValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">Phone</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="phone1">
                                                                    </div>
                                                                    <a class="validate-msg" id="phoneValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">email</span>
                                                                        </div>
                                                                        <input type="email" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="email1">
                                                                    </div>
                                                                    <a class="validate-msg" id="emailValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">National ID</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="nationalId1">
                                                                    </div>
                                                                    <a class="validate-msg" id="nationalIdValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" style="max-height: 33.5px;">
                                                                            <span class="input-group-text" id="inputGroupFileAddon011" >Driving license</span>
                                                                        </div>
                                                                        <div class="custom-file">
                                                                            <input type="file" class="custom-file-input" id="inputGroupFile011" aria-describedby="inputGroupFileAddon01">
                                                                            <label class="custom-file-label" for="inputGroupFile01" style="font-size: small !important;">Choose file</label>
                                                                        </div>
                                                                    </div>
                                                                    <a class="validate-msg" id="drivingLicenseValidate1">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text" for="province">Province</label>
                                                                        </div>
                                                                        <select class="custom-select" id="province1">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text" for="district">District</label>
                                                                        </div>
                                                                        <select class="custom-select" id="district1">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>

                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text"
                                                                                   for="ward">Ward</label>
                                                                        </div>
                                                                        <select class="custom-select" id="ward1">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>

                                                                <div class="col-lg-6 mb-3">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <span class="input-group-text">Home</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="street1">
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <h5 class="card-title">Driver's information</h5>
                                                            <div class="row">
                                                                        <label class="checkbox bounce d-flex pl-3" style="align-items: center;column-gap: 6px;">
                                                                            <input type="checkbox" value="true"
                                                                                   name="additionalFunction">
                                                                            <svg viewBox="0 0 21 21">
                                                                                <polyline points="5 10.75 8.5 14.25 16 6"></polyline>
                                                                            </svg>
                                                                            <span>Different than Renter's information</span>
                                                                        </label>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">Full name</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="fullName">
                                                                    </div>
                                                                    <a class="validate-msg" id="fullNameValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">Date of birth</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="book_pick_date">
                                                                    </div>
                                                                    <a class="validate-msg" id="dateOfBirthValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">Phone</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="phone">
                                                                    </div>
                                                                    <a class="validate-msg" id="phoneValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">email</span>
                                                                        </div>
                                                                        <input type="email" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="email">
                                                                    </div>
                                                                    <a class="validate-msg" id="emailValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" >
                                                                            <span class="input-group-text ">National ID</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="nationalId">
                                                                    </div>
                                                                    <a class="validate-msg" id="nationalIdValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend" style="max-height: 33.5px;">
                                                                            <span class="input-group-text" id="inputGroupFileAddon01" >Driving license</span>
                                                                        </div>
                                                                        <div class="custom-file">
                                                                            <input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01">
                                                                            <label class="custom-file-label" for="inputGroupFile01" style="font-size: small !important;">Choose file</label>
                                                                        </div>
                                                                    </div>
                                                                    <a class="validate-msg" id="drivingLicenseValidate">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text" for="province">Province</label>
                                                                        </div>
                                                                        <select class="custom-select" id="province">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>
                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text" for="district">District</label>
                                                                        </div>
                                                                        <select class="custom-select" id="district">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>

                                                                <div class="col-lg-6 mb-3 required-label">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <label class="input-group-text"
                                                                                   for="ward">Ward</label>
                                                                        </div>
                                                                        <select class="custom-select" id="ward">
                                                                            <option value="">Select</option>
                                                                        </select>
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>

                                                                <div class="col-lg-6 mb-3">
                                                                    <div class="input-group input-group-sm">
                                                                        <div class="input-group-prepend">
                                                                            <span class="input-group-text">Home</span>
                                                                        </div>
                                                                        <input type="text" class="form-control"
                                                                               aria-label="Sizing example input"
                                                                               aria-describedby="inputGroup-sizing-default"
                                                                               id="street">
                                                                    </div>
                                                                    <a class="validate-msg">Invalid</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <a class="btn-danger btn" style="width: 100px; margin: 10px 0 10px 0"
                                           onclick="window.location.href='/my-cars'">Cancel</a>
                                        <input type="button" name="next" class="next btn-secondary btn"
                                               value="Next Step"/>
                                    </fieldset>
                                    <fieldset>
                                        <div class="d-flex justify-content-center">
                                            <div class="card align-items-start display-flex-center" style="">
                                                <div class="card-body text-left w-100">
                                                    <h5 class="card-title">Please select your payment method</h5>
                                                    <div class="row">
                                                        <div class="col-12 col-sm-12 col-md-3">
                                                            <div class="nav nav-pills d-flex flex-row" id="v-pills-tab" role="tablist" aria-orientation="vertical" style="row-gap: 5px; column-gap: 5px">
                                                                <button class="nav-link active" id="v-pills-home-tab" data-toggle="pill" data-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">My Wallet</button>
                                                                <button class="nav-link" id="v-pills-profile-tab" data-toggle="pill" data-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">Cash</button>
                                                                <button class="nav-link" id="v-pills-messages-tab" data-toggle="pill" data-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">Bank Transfer</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-9" style="border-left: 2px #00c86f solid">
                                                            <div class="tab-content" id="v-pills-tabContent">
                                                                <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                                                                    <p>Current balance: <span style="color: #00c269;">20,000,000 VND</span></p>
                                                                </div>
                                                                <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">...</div>
                                                                <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">...</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <a class="btn-danger btn" style="width: 100px; margin: 10px 0 10px 0"
                                           onclick="window.location.href='/my-cars'">Cancel</a>
                                        <input type="button" name="previous" class="previous btn-black btn"
                                               value="Previous"/>
                                        <input type="button" name="next" class="next btn-secondary btn"
                                               value="Confirm payment" onclick="confirmBooking()"/>
                                    </fieldset>
                                    <fieldset>
                                        <div class="d-flex justify-content-center">
                                            <div class="card align-items-start display-flex-center" style="">
                                                <div class="card-body text-left w-80" style="align-self: center; color: #5d5d5d">
                                                    <p>You have successfully booked
                                                        <span style="color: #00c86f">Nissan 2017</span>
                                                        from
                                                        <span style="color: #ffb300">13/02/2024 - 12:00 PM</span>
                                                        to
                                                        <span style="color: #ffb300">23/02/2024 - 14:00 PM</span>
                                                    </p>
                                                    <p>Your booking number is: <span style="color: royalblue">999999</span></p>
                                                    <p>Our operator will contact you soon to guidance you pick up.</p>
                                                    <p>Thank you for choosing our service!</p>
                                                </div>
                                            </div>
                                        </div>
                                        <a class="btn-primary btn" style="; margin: 10px 0 10px 0"
                                           onclick="window.location.href='/'">Homepage</a>
                                        <button class="btn-warning btn">Book another car</button>
                                        <button class="btn-secondary btn">View Booking</button>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        function checkStep1() {
            return true;
        }

        function checkStep2(){
            return true;
        }

        function checkStep3(){
            return true;
        }
    </script>
    <script type="text/javascript">
    </script>
    <script>
        const csrfToken = $('meta[name="_csrf"]').attr('content');
    </script>
    <script>
        function confirmBooking(){
            const previewSection = document.getElementById('previewSection');
            const bookingDetail = document.getElementById('bookingDetail');
            previewSection.style.display = 'none';
            bookingDetail.style.display = 'none';
        }

        function changeDetail(){
            $('#confirmModal').modal('show');
            $('#ModalTitle').text("Booking Details!");
            $('#confirm').click(function () {
            }).text("Save");
            $('#notConfirm').hide()
            $('#close').text("Cancel");
        }

        function showConfirm(){
            $('#confirmModal').modal('show');
            $('#ModalTitle').text("Confirm!");
            $('#ModalBody').html("Do you want to save the car? <br> <p style='color: indianred'>If you don't save, all data will be lost.</p>");
            $('#confirm').click(function () {
                addCar();

            });
            $('#notConfirm').click(function () {
                deleteDraft();
                window.location.href = '/my-cars';
            });
        }

        // Call API to fetch provinces, districts and wards
        // Fetch provinces and set default city
        async function fetchProvinces(defaultCity) {
            const response = await fetch('https://provinces.open-api.vn/api/p/');
            const provinces = await response.json();
            const citySelect = document.getElementById('province');

            provinces.forEach(province => {
                const option = document.createElement('option');
                option.value = province.code;
                option.textContent = province.name;
                if (province.code == defaultCity) {
                    option.selected = true;
                }
                citySelect.appendChild(option);
            });

            if (defaultCity) {
                fetchDistricts(defaultCity, document.getElementById('district').getAttribute('data-default'));
            }
        }

        // Fetch districts based on selected province and set default value
        async function fetchDistricts(provinceCode, defaultDistrict) {
            const response = await fetch(`https://provinces.open-api.vn/api/p/${provinceCode}?depth=2`);
            const provinceData = await response.json();
            const districtSelect = document.getElementById('district');

            districtSelect.innerHTML = '<option value="">Select District</option>';
            provinceData.districts.forEach(district => {
                const option = document.createElement('option');
                option.value = district.code;
                option.textContent = district.name;
                if (district.code == defaultDistrict) {
                    option.selected = true;
                }
                districtSelect.appendChild(option);
            });

            if (defaultDistrict) {
                fetchWards(defaultDistrict, document.getElementById('ward').getAttribute('data-default'));
            }
        }

        // Fetch wards based on selected district and set default value
        async function fetchWards(districtCode, defaultWard) {
            const response = await fetch(`https://provinces.open-api.vn/api/d/${districtCode}?depth=2`);
            const districtData = await response.json();
            const wardSelect = document.getElementById('ward');

            wardSelect.innerHTML = '<option value="">Select Ward</option>';
            districtData.wards.forEach(ward => {
                const option = document.createElement('option');
                option.value = ward.code;
                option.textContent = ward.name;
                if (ward.code == defaultWard) {
                    option.selected = true;
                }
                wardSelect.appendChild(option);
            });
        }

        // Event listeners to load data on selection
        document.getElementById('province').addEventListener('change', function () {
            fetchDistricts(this.value);
            document.getElementById('ward').innerHTML = '<option value="">Select Ward</option>'; // Reset ward
            document.getElementById('district').disabled = this.value === ""; // Enable/disable district based on city selection
            document.getElementById('district').value = ""; // Reset district value
            document.getElementById('ward').disabled = true; // Disable ward selection
        });

        document.getElementById('district').addEventListener('change', function () {
            fetchWards(this.value);
            document.getElementById('ward').disabled = this.value === ""; // Enable/disable ward based on district selection
        });


        // Load provinces on page load with default values
        document.addEventListener('DOMContentLoaded', function () {
            const defaultCity = document.getElementById('province').getAttribute('data-default');
            fetchProvinces(defaultCity);
        });

        const fileInput = document.getElementById('inputGroupFile01');
        fileInput.addEventListener('change', function () {
            const fileName = this.files[0].name;
            const label = this.nextElementSibling;
            label.textContent = fileName;
        });


    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="/js/customer/book-car.js"></script>
    </body>
</th:block>
</html>
